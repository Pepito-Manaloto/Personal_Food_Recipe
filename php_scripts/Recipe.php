<?phpheader("Access-Control-Allow-Origin: *");header("Access-Control-Allow-Methods: GET, DELETE, PUT, POST");require_once(__DIR__ . "/model/RecipeBrowseView.php");require_once(__DIR__ . "/model/Recipe.php");$method = $_SERVER['REQUEST_METHOD'];$recipe = new Recipe();if($method == "GET"){    if(!isset($_GET['page']) || !isset($_GET['type']))    {        header("Location: http://{$_SERVER['HTTP_HOST']}/Recipe/404/");    }    if(empty($_GET['page']))    {        $_GET['page'] = 1;    }    if(isset($_GET["category"]) && isset($_GET["order"]) && $_GET['page'] > 0)    {        $view = new RecipeBrowseView( $_GET['page'], $_GET["order"], $_GET["category"]);    }    else if(isset($_GET["order"]) && $_GET['page'] > 0)    {        $view = new RecipeBrowseView($_GET['page'], $_GET["order"]);    }    else if($_GET['page'] > 0)    {        $view = new RecipeBrowseView($_GET['page']);    }    else    {        $view = new RecipeBrowseView();    }    if($_GET['type'] == "All")    {        $view->populateBrowseRecipe();    }    else if($_GET['type'] == "My")    {        $view->populateMyRecipe();    }}else if($method == "DELETE"){    if($recipe->delete())    {        $recipe->commit();    }}else{    if($recipe->validate())    {        $success = false;        if($method == "POST")        {            $success = $recipe->create();        }        else if($method == "PUT")        {            $success = $recipe->edit();        }        if($success)        {            $recipe->commit();        }    }}$recipe->closeDatabaseConnection();?>